(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{26:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),r=n.n(s),c=n(19),i=n.n(c),o=(n(26),n(27),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))}),l=n(10),u=n(3),h=n(4),g=n(6),d=n(5),b=n(9),j=n.n(b),m=n(20),f=n(8),p=n.n(f).a.create({baseURL:"http://newsapi.org/v2/top-headlines"});p.defaults.headers.common["x-Api-key"]="525e8095122848b8977903d5800ba6b7";var v=p,x={technology:"technology",science:"science",entertainment:"entertainment",business:"business",general:"general",health:"health",sprots:"sports"},y=function(){function e(t){Object(u.a)(this,e),this._category=t,this._searchTerm="",this._pageSize=10,this._currentPage=1,this._totalPage=1}return Object(h.a)(e,[{key:"getNews",value:function(){var e=Object(m.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get(this._getURL());case 3:return t=e.sent,n=t.data,this._totalPage=Math.ceil(n.totalResults/this._pageSize),e.abrupt("return",{article:n.articles,isNext:this._isNext(),isprevious:this._isPrevious(),totalPage:this._totalPage,currentPage:this._currentPage,category:this._category,totalResults:n.totalResults});case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){return!!this._isNext()&&(this._currentPage++,this.getNews())}},{key:"prev",value:function(){return!!this._isPrevious()&&(this._currentPage--,this.getNews())}},{key:"setCurrentPage",value:function(e){if(e<1&&e>this.totalPage)throw new Error("Invalid Page Number");return this._currentPage=e,this.getNews()}},{key:"changeCategory",value:function(e){this._category=e,this._currentPage=1,this.getNews()}},{key:"search",value:function(e){return this._searchTerm=e,this.getNews()}},{key:"_getURL",value:function(){var e="/?";return this._category&&(e+="category=".concat(this._category)),this._searchTerm&&(e+="&q=".concat(this._searchTerm)),this._pageSize&&(e+="&pageSize=".concat(this._pageSize)),this._currentPage&&(e+="&page=".concat(this._currentPage)),e}},{key:"_isNext",value:function(){return this._currentPage<this._totalPage}},{key:"_isPrevious",value:function(){return this._currentPage>1}}]),e}(),O=function(e){Object(g.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchTerm:""},e.searchFocus=Object(s.createRef)(),e.handleChange=function(t){e.setState({searchTerm:t.target.value})},e.onkeypress=function(t){"Enter"==t.key&&e.props.search(e.state.searchTerm)},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.searchFocus.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.category,n=e.changeCategory;return Object(a.jsxs)("div",{className:"my-4",children:[Object(a.jsx)("h1",{className:" mb-4 ",style:{fontWeight:"300"},children:"Block Buster Headline"}),Object(a.jsx)("input",{ref:this.searchFocus,type:"search",className:"form-control",placeholder:"Type Anythings & Press Enter For Search",value:this.state.searchTerm,onChange:this.handleChange,onKeyPress:this.onkeypress}),Object(a.jsx)("div",{className:"my-4",children:x&&Object.keys(x).map((function(e){return t==x[e]?Object(a.jsx)("button",{onClick:function(){return n(x[e])},className:"btn btn-sm btn-warning mr-2 mb-2",children:"#".concat(x[e])}):Object(a.jsx)("button",{onClick:function(){return n(x[e])},className:"btn btn-sm btn-light mr-2 mb-2",children:"#".concat(x[e])})}))})]})}}]),n}(s.Component);var P=function(){return Object(a.jsxs)("div",{className:"d-flex align-items-center",children:[Object(a.jsx)("strong",{children:" Loading... "}),Object(a.jsx)("div",{className:"spinner-border text-danger ms-auto",role:"status","aria-hidden":"true"})]})};var N=function(e){var t,n=e.item;return Object(a.jsxs)("div",{className:"card mb-4",children:[n.urlToImage&&Object(a.jsx)("img",{className:"card-img-top",src:n.urlToImage,alt:n.title}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#424242"},children:Object(a.jsx)("h5",{className:"card-title",children:n.title})}),Object(a.jsx)("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",style:{color:"#424242"},children:n.content}),Object(a.jsxs)("div",{className:"mt-2 d-flex align-items-center",children:[Object(a.jsx)("small",{children:Object(a.jsxs)("strong",{children:["published at ",(t=n.publishedAt,new Date(t).toDateString())]})}),Object(a.jsx)("div",{style:{padding:"0.2rem 0.5rem",background:"#ededed",color:"#424242",borderRadius:"025rem ",display:"inline-block"},className:"ml-auto",children:Object(a.jsx)("small",{children:n.source.name})})]})]})]})};var w=function(e){var t=e.news;return Object(a.jsxs)("div",{children:[t&&0==t.length&&Object(a.jsx)("h4",{children:"There is no News"}),t&&t.map((function(e){return Object(a.jsx)(N,{item:e},e.title)}))]})},_=function(e){Object(g.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isEditable:!1},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.currentPage,s=t.totalPage,r=t.next,c=t.prev,i=(t.isPrevious,t.isNext),o=t.handlePageChange,l=t.gotoPage;return Object(a.jsxs)("div",{className:"d-flex my-5 align-items-center",children:[Object(a.jsx)("button",{className:"btn btn-warning",onClick:function(){c()},children:"Previous"}),Object(a.jsx)("div",{className:"flex-grow-1 text-center",children:this.state.isEditable?Object(a.jsx)("input",{type:"number",value:n,onChange:function(e){return o(e.target.value)},onKeyPress:function(t){"Enter"==t.key&&(l(),e.setState({isEditable:!1}))}}):Object(a.jsxs)("p",{style:{userSelect:"none",lineHeight:"1.1"},title:"Double Tap To Jum Page",onDoubleClick:function(){e.setState({isEditable:!e.state.isEditable})},children:[n," of ",s,Object(a.jsx)("br",{}),Object(a.jsx)("small",{children:"Double Tap to Edit"})]})}),Object(a.jsx)("button",{className:"btn btn-warning ml-5",disabled:!i,onClick:function(){r()},children:"Next"})]})}}]),n}(s.Component),k=new y(x.technology),S=function(e){Object(g.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={data:{},isLoading:!0},e.aboutResult=r.a.createRef(),e.jumbortaonRef=r.a.createRef(),e.next=function(){e.state.data.isNext&&e.setState({isLoading:!0}),k.next().then((function(t){e.setState({data:t,isLoading:!1})})).catch((function(t){console.log(t),alert("something Went Worng"),e.setState({isLoading:!1})}))},e.prev=function(){e.state.data.isPrevious&&e.setState({isLoading:!0}),k.prev().then((function(t){e.setState({data:t,isLoading:!1})})).catch((function(t){console.log(t),alert("something Went Worng"),e.setState({isLoading:!1})}))},e.handlePageChange=function(t){e.setState({data:Object(l.a)(Object(l.a)({},e.state.data),{},{currrentPage:Number.parseInt(t)})})},e.gotoPage=function(){e.setState({isLoading:!0}),k.setCurrentPage(e.state.data.currentPage).then((function(t){e.setState({data:t,isLoading:!1})})).catch((function(t){console.log(t),alert("sometings went to worng"),e.setState({isLoading:!1})}))},e.changeCategory=function(t){e.setState({isLoading:!0}),k.changeCategory(t).then((function(t){e.setState({data:t,isLoading:!1})})).catch((function(t){console.log(t),alert("sometings went to worng"),e.setState({isLoading:!1})}))},e.search=function(t){e.setState({isLoading:!0}),k.changeCategory(t).then((function(t){e.setState({data:t,isLoading:!1})})).catch((function(t){console.log(t),alert("sometings went to worng"),e.setState({isLoading:!1})}))},e.gotoTop=function(){window.scroll(0,e.aboutResult.current.scrollTop)},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;k.getNews().then((function(t){e.setState({data:t,isLoading:!1})})).catch((function(t){console.log(t),alert("something   went worng"),e.setState({isLoading:!1})})),console.log(this.jumbortaonRef)}},{key:"render",value:function(){var e=this.state.data,t=e.article,n=e.isPrevious,s=e.isNext,r=e.category,c=e.totalResults,i=e.currentPage,o=e.totalPage;return console.log(this.aboutResult),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-sm-6 offset-md-3",children:[Object(a.jsx)(O,{category:r,changeCategory:this.changeCategory,search:this.search}),Object(a.jsxs)("div",{ref:this.aboutResult,className:"d-flex",children:[Object(a.jsxs)("p",{className:"text-black-50 ml-auto",children:["About ",c,"   result found"]}),Object(a.jsxs)("p",{className:"text-black-50 ms-auto",children:[i," page ",o]})]}),this.state.isLoading?Object(a.jsx)(P,{}):Object(a.jsxs)("div",{children:[Object(a.jsx)(w,{news:t}),Object(a.jsx)(_,{next:this.next,prev:this.prev,isPrevious:n,isNext:s,currentPage:i,totalPage:o,handlePageChange:this.handlePageChange,gotoPage:this.gotoPage}),Object(a.jsx)("button",{className:"btn btn-success my-4  ml-auto",onClick:this.gotoTop,children:"Go to Top"})]})]})})})}}]),n}(s.Component);i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),console.log("http://newsapi.org/v2/top-headlines"),o()}},[[47,1,2]]]);
//# sourceMappingURL=main.499e1f68.chunk.js.map